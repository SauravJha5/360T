Project Structure
player-messaging/
â”‚
â”œâ”€â”€ pom.xml
â”œâ”€â”€ README.md
â”‚
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/java/com/sixtythreet0/player/
â”‚       â”œâ”€â”€ model/
â”‚       â”‚   â””â”€â”€ Message.java
â”‚       â”‚
â”‚       â”œâ”€â”€ core/
â”‚       â”‚   â”œâ”€â”€ Player.java
â”‚       â”‚   â””â”€â”€ PlayerFactory.java
â”‚       â”‚
â”‚       â”œâ”€â”€ inprocess/
â”‚       â”‚   â”œâ”€â”€ InProcessPlayer.java
â”‚       â”‚   â””â”€â”€ InProcessMain.java
â”‚       â”‚
â”‚       â””â”€â”€ interprocess/
â”‚           â”œâ”€â”€ TcpServerPlayer.java
â”‚           â”œâ”€â”€ TcpClientPlayer.java
â”‚           â””â”€â”€ InterProcessMain.java
â”‚
â””â”€â”€ scripts/
    â”œâ”€â”€ start_inprocess.sh
    â””â”€â”€ start_interprocess.sh

ğŸ’¡ Architecture Summary
1. In-Process Mode (Same JVM)

Uses:

BlockingQueue<Message> for message passing

Two threads: PlayerA and PlayerB

No networking involved

Flow:

PlayerA (initiator) â†’ BlockingQueue â†’ PlayerB
PlayerB â†’ BlockingQueue â†’ PlayerA


Stopping condition:
Initiator tracks its own sent and received counters and issues a shutdown token after 10 messages.

2. Inter-Process Mode (Separate JVMs)

Uses:

Plain TCP sockets

Line-based message protocol

Protocol:

Client â†’ Server: MSG:<payload>
Server â†’ Client: RESP:<payload>
Client â†’ Server: BYE


Each runs independently in its own Java process, fulfilling the requirement for different PIDs.

â–¶ï¸ How to Build (Maven)

Requires:

Java 17+

Maven 3.x

Run:

mvn clean package


Since the company requested source-only, no JARs are included in the submission ZIP.

â–¶ï¸ How to Run â€” In-Process Mode

Terminal:

./scripts/start_inprocess.sh


Or via IntelliJ:

Run class:

com.sixtythreet0.player.inprocess.InProcessMain


This starts both players in separate threads.

â–¶ï¸ How to Run â€” Inter-Process Mode (TCP)
Start Server (process 1):
java -cp target/classes com.sixtythreet0.player.interprocess.InterProcessMain server 5000

Start Client (process 2):
java -cp target/classes com.sixtythreet0.player.interprocess.InterProcessMain client localhost 5000


The two processes then communicate until the 10-message stop condition is met.

ğŸ“¬ Message Logic (Example)

Received message:

"Hello PlayerB"


Reply generated by PlayerB:

Hello PlayerB | from=PlayerB | sendCount=3
